"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7768],{9249:function(e,t,l){l.d(t,{Z:function(){return c}});var r=l(85893),n=l(67294),a=l(40768),i=l(75201),s=l(63950),u=e=>{let t=(0,a.b)();return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-[6px] rounded-[5px] border-[1px] border-black/15 bg-white px-3 py-1 text-s capitalize",children:[e.label,!e.disable&&"query"!==e.attribute&&(0,r.jsx)(s.Z,{onClick:()=>{t.canRefine&&!e.disable&&t.refine({...e,type:"disjunctive"})},theme:"outline",className:"cursor-pointer",size:"14",fill:"#000"})]})},o=l(84315),c=e=>{let t=(0,a.b)({excludedAttributes:["companyID"]}),{results:l}=(0,i.a)({showPrevious:!0}),s="mobile"===(0,o.Z)().type,c=(0,n.useMemo)(()=>t.items.map(e=>e.refinements).flat(),[t.items]),d=(0,n.useMemo)(()=>{var e;if((null!==(e=null==l?void 0:l.nbHits)&&void 0!==e?e:0)===0)return(0,r.jsx)("p",{className:"text-s",children:"\xa0"});let t="Showing ".concat(null==l?void 0:l.nbHits," result").concat((null==l?void 0:l.nbHits)===1?"":"s");return c.length>0&&(t="".concat(t," for:")),(0,r.jsx)("p",{className:"animation--trade-fade-in-slide-up text-s",children:t},"FinderCurrentRefinements-length-".concat(null==l?void 0:l.nbHits))},[c.length,null==l?void 0:l.nbHits]);return(0,r.jsxs)("div",{className:"flex min-h-[30px] flex-wrap items-center gap-2",children:[s?(0,r.jsx)("div",{className:"flex w-full",children:(0,r.jsx)("div",{className:"py-3",children:d})}):d,c.map(t=>{var l,n;return(0,r.jsx)(u,{attribute:t.attribute,label:t.label,value:t.value,disable:null===(n=e.disabledAttributes)||void 0===n?void 0:null===(l=n.map(e=>e.toLocaleLowerCase()))||void 0===l?void 0:l.includes(t.attribute.toLocaleLowerCase())},"".concat(t.attribute,"-").concat(t.value))})]})}},63622:function(e,t,l){var r=l(85893),n=l(67294),a=l(54942),i=l(75201),s=l(88180),u=l(29355);t.Z=()=>{let e=(0,a.b)(),{showMore:t,isLastPage:l,isFirstPage:o,showPrevious:c,results:d}=(0,i.a)({showPrevious:!0}),f=(0,n.useRef)(!0),{width:m}=(0,u.n)(),x=n.useRef(null),p=(0,n.useMemo)(()=>{let e=3;return m>=1920&&(e=4),m<1280&&(e=2),2*e},[m]);(0,s.Y)({items:[{label:"",value:p,default:!0}]});let b=n.useCallback(r=>{var n,a;let i=r[0];!l&&i.isIntersecting&&t&&(null!==(n=null==d?void 0:d.page)&&void 0!==n?n:0)<(null!==(a=null==d?void 0:d.nbPages)&&void 0!==a?a:0)&&"idle"===e.status&&!1===f.current&&(f.current=!0,t())},[e.status,l,null==d?void 0:d.nbPages,null==d?void 0:d.page,t]);return(0,n.useEffect)(()=>{"idle"===e.status&&f.current&&(f.current=!1)},[e.status,null==d?void 0:d.page]),(0,n.useEffect)(()=>{!o&&c&&"idle"===e.status&&c()},[d]),(0,n.useEffect)(()=>{let e=new IntersectionObserver(b,{root:null,rootMargin:"400px",threshold:0});return x.current&&e.observe(x.current),()=>{e.disconnect()}},[b]),(0,r.jsx)("div",{className:"bottom-0 left-0 z-0 flex min-h-[150px] w-full items-center justify-center py-10",ref:x})}},62935:function(e,t,l){var r=l(85893),n=l(7247),a=l(80061),i=l(34736),s=l(20966),u=l(59417),o=l(37048),c=l(76579),d=l(11163),f=l(67294),m=l(65110),x=l(37386),p=l(54942);t.Z=e=>{var t;let l=(0,f.useRef)({query:"",amount:0}),b=(0,f.useRef)(null),h=(0,f.useRef)(null),{query:v,refine:g}=(0,x.l)(),y=(0,d.useRouter)(),[j,w]=(0,u.G)(String(null!==(t=y.query[e.queryStringParam])&&void 0!==t?t:""),200),{status:N,results:k,uiState:C}=(0,p.b)(),_=(0,f.useMemo)(()=>{let e=Object.keys(C);if(e.length>0)return e[0]},[C]);return(0,o.l)(()=>{j!==v&&g(j)},[j]),(0,f.useEffect)(()=>(h.current&&clearTimeout(h.current),""!==j&&""!==v&&j===v&&"idle"===N&&l.current.query!==v&&l.current.amount!==k.nbHits&&(h.current=setTimeout(()=>{(0,n.Qx)("".concat(_,"_finder_search"),{event_category:"finder_search",query:v,results_amount:k.nbHits}),l.current={query:v,amount:k.nbHits}},1e3)),()=>{h.current&&clearTimeout(h.current)}),[j,v,N,k.nbHits,_]),(0,f.useEffect)(()=>{var t,l;null!==(t=y.isReady&&y.query[e.queryStringParam])&&void 0!==t&&t&&w(null!==(l=String(y.query[e.queryStringParam]))&&void 0!==l?l:"")},[y.isReady]),(0,c.A)([["mod+K",()=>{b.current&&b.current.focus()}]]),(0,r.jsxs)("div",{className:"".concat(e.styles||"flex w-full shadow-[0px_0px_10px_0px_#0000001A] transition-all sm:min-w-[639px] sm:max-w-[680px]"),children:[(0,r.jsx)(a.o,{ref:b,classNames:{root:"flex-grow",input:"[&::placeholder]:text-black h-[41px] rounded-l-[5px] rounded-r-[0] border-0"},name:"search",autoComplete:"off",defaultValue:j,onChange:e=>w(e.currentTarget.value),placeholder:"Tell us your passions and travel wishes"}),(0,r.jsx)(i.k,{className:"flex aspect-[1] w-[41px] items-center justify-center rounded-r-[5px] bg-burntSienna",children:"loading"===N?(0,r.jsx)(s.a,{size:14,color:"white",className:"animation--trade-fade-in"}):(0,r.jsx)(m.a5V,{size:14,className:"animation--trade-fade-in cursor-pointer",color:"#fff"})})]})}},36178:function(e,t,l){l.d(t,{Z:function(){return p}});var r=l(85893),n=l(67294),a=l(44063),i=l(86062),s=l(34736),u=l(91759),o=l(54942),c=l(3),d=l(40768),f=l(87668),m=l(7247),x=e=>{let[t,{toggle:l}]=(0,u.q)(e.openByDefault),x=(0,o.b)(),{items:p,refine:b,toggleShowMore:h,isShowingMore:v,canToggleShowMore:g}=(0,c.c)({attribute:e.attribute,limit:20,showMore:!0,showMoreLimit:200}),y=(0,d.b)(),j=(0,n.useMemo)(()=>{let e=Object.keys(x.uiState);if(e.length>0)return e[0]},[x.uiState]),w=t=>{var l;let r=null===(l=p.find(e=>e.value===t))||void 0===l?void 0:l.isRefined;(0,m.Qx)("".concat(j,"_finder_filter_click"),{event_category:"finder_filter_".concat(r?"remove":"add"),finder_filter_key:e.attribute,finder_filter_value:t}),b(t)},N=(0,n.useMemo)(()=>e.active?[e.active.mainColor,e.active.textColor].join(" "):"bg-white text-black",[e.active]),k=(0,n.useMemo)(()=>{var t;return null===(t=y.items.find(t=>t.attribute===e.attribute))||void 0===t?void 0:t.refinements.map(e=>String(e.value).toLowerCase())},[y.items,e.attribute]);return((0,n.useEffect)(()=>{if(0===p.length&&t||p.length>0&&!t)return l()},[p]),e.hide)?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("div",{className:"border-t-[1px] border-t-black/15",children:[(0,r.jsxs)("header",{onClick:l,className:"flex cursor-pointer items-center justify-between pt-[18px]",children:[(0,r.jsx)("p",{className:"font-mcqueen text-s font-medium uppercase leading-4",children:e.title}),(0,r.jsx)(a.Z,{className:"".concat(t?"":"rotate-180"," transition-all"),onClick:l,theme:"outline",size:"14",fill:"#000"})]}),(0,r.jsx)("div",{className:"w-100 flex flex-wrap gap-1 transition-all ".concat(t?"max-h-[500px] py-[18px] opacity-100":"max-h-0 py-0 opacity-0"," default-scroll-bar overflow-auto"),children:p.sort((t,l)=>(0,f.q)(t,l,e.attribute)).map(e=>{var t;let l=null!==(t=null==k?void 0:k.includes(e.value.toLowerCase()))&&void 0!==t&&t;return(0,r.jsx)("div",{onClick:()=>w(e.value),className:"w-max cursor-pointer rounded border border-black/15 transition-all ".concat(l?N:""," animation--trade-fade-in-slide-up px-3 py-[6px]"),children:(0,r.jsx)("p",{className:"font-mcqueen text-s font-light capitalize leading-[18px]",children:e.label})},"".concat(e.value,"-").concat(l))})}),g&&t&&(0,r.jsxs)(s.k,{className:"animation--trade-fade-in-slide-up flex items-center justify-between gap-1 font-mcqueen text-s font-light uppercase leading-[18px] text-black",onClick:h,children:[v?"show less":"show more"," ",(0,r.jsx)(i.Z,{theme:"outline",className:v?"rotate-180":"",size:"14",fill:"#000"})]})]})},p=e=>{var t;return(0,r.jsx)("div",{className:"h-auto w-full flex-col gap-[18px] md:min-h-full ".concat(null!==(t=e.className)&&void 0!==t?t:""),children:e.items.map(t=>{var l,n;return(0,r.jsx)(x,{title:t.title,attribute:t.attribute,hide:null!==(n=null===(l=e.disabledAttributes)||void 0===l?void 0:l.includes(t.attribute))&&void 0!==n&&n,openByDefault:!0,active:e.active},"FinderSidebarDropdown-".concat(t.title,"-").concat(t.attribute))})})}},24035:function(e,t,l){var r=l(85893),n=l(97115),a=l(34736),i=l(67294),s=l(36178),u=l(91759),o=l(34065),c=l(3422),d=l(73935),f=l(65110),m=l(75201),x=l(44553);t.Z=e=>{let[t,{close:l,toggle:p}]=(0,u.q)(),b=(0,o.a)("(max-width:960px)"),{results:h}=(0,m.a)({showPrevious:!0});return(0,c.Z)(t&&b),(0,i.useEffect)(()=>{!b&&t&&l()},[t]),(0,r.jsxs)(r.Fragment,{children:[(0,d.createPortal)((0,r.jsxs)("div",{className:"fixed left-0 top-0 flex h-full w-full flex-col gap-3 sm:hidden ".concat(t?"z-[999] translate-y-0 opacity-100":"z-[-1] translate-y-[100%] opacity-0"," default-scroll-bar overflow-auto bg-white p-0 transition-all md:pb-[120px]"),children:[(0,r.jsxs)("div",{className:"sticky top-0 flex w-full items-center justify-between bg-white px-3 py-6",children:[(0,r.jsx)(r.Fragment,{children:"\xa0"})," ",(0,r.jsx)("h3",{children:"Refine Search"})," ",(0,r.jsx)(f.u5Z,{size:"14",onClick:l,className:"z-[3] cursor-pointer "})]}),(0,r.jsx)(s.Z,{items:e.items,disabledAttributes:e.disabledAttributes,active:{mainColor:"bg-black",textColor:"text-white"},className:"flex px-3"}),(0,r.jsxs)("div",{className:"sticky bottom-0 flex w-full flex-col items-center justify-center gap-3 bg-white px-3 py-6",style:{background:"rgba(228, 225, 220, 0.6)",backdropFilter:"blur(10px)"},children:[e.selectedFiltersLength>0&&(0,r.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,r.jsxs)("p",{children:[e.selectedFiltersLength," filter",e.selectedFiltersLength>1?"s":""," ","applied"]}),(0,r.jsx)(x.E,{className:"underlined-button font-primary p-0 text-xs",translations:{resetButtonText:"CLEAR ALL"}})]}),(0,r.jsxs)(a.k,{className:" z-10 flex min-h-[53px] w-full items-center justify-center rounded-[5px] bg-burntSienna text-s font-medium uppercase leading-4 text-white",onClick:l,children:[e.filterButtonText||"filter"," (",null==h?void 0:h.nbHits,")"]})]})]}),document.body),(0,r.jsx)("div",{className:"flex justify-end sm:hidden",children:(0,r.jsxs)(a.k,{onClick:p,className:"flex w-full items-center justify-center gap-3 rounded-[5px] border-[1px] border-solid border-[#00000026] bg-burntSienna px-6 py-3 sm:w-fit",children:[(0,r.jsx)("p",{className:"button&subheader text-white",children:"Edit Filters"}),(0,r.jsx)(n.Z,{theme:"outline",size:"12",fill:"#fff"})]})})]})}},87668:function(e,t,l){l.d(t,{q:function(){return a},r:function(){return i}});var r=l(5777);let n=["january","february","march","april","may","june","july","august","september","october","november","december"],a=(e,t,l)=>"months"===l?n.findIndex(t=>t===e.value.toLowerCase())-n.findIndex(e=>e===t.value.toLowerCase()):"durationRange"===l?Number(e.value.split("-")[0])-Number(t.value.split("-")[0]):e.label.localeCompare(t.label),i=e=>["tags","tagsUS","tagsGB","tagsAU","tagsEU","tagsAsia","offers.title"].filter(t=>t!==r.bo[e])},3422:function(e,t,l){var r=l(67294);t.Z=e=>{(0,r.useEffect)(()=>{let t=document.getElementsByTagName("html");return t.length>0&&e&&(t[0].className="hide-y-scroll"),()=>{let e=document.getElementsByTagName("html");e.length>0&&e[0].removeAttribute("class")}},[e])}},30610:function(e,t,l){l.d(t,{O:function(){return n}});let r=new Map,n={search(e){let t="search"+JSON.stringify(e);if(r.has(t))return r.get(t);let l=fetch("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:e})}).then(e=>e.json()).then(e=>e);return l.then(e=>(r.set(t,l),e))}}}}]);